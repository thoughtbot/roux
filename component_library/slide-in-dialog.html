<link rel="stylesheet" href="../src/css/app.css">

<h2 class="section-title">Slide-in Dialog/Modal</h2>
<button type="button" class="button button--primary" data-dialogOpen>Open a slide-in modal</button>
<dialog class="slide-in" aria-modal="true" data-dialogElement>
  <button class="button button--plain" type="button" autofocus data-dialogClose>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="18" height="18" fill="currentColor" role="img" aria-labelledby=":rc:"><title id=":rc:">Close</title><path d="m10.815 9 6.793-6.793A1.284 1.284 0 1 0 15.793.392L9 7.185 2.207.392A1.283 1.283 0 0 0 .392 2.207L7.185 9 .392 15.793a1.283 1.283 0 1 0 1.815 1.815L9 10.815l6.793 6.793a1.283 1.283 0 0 0 1.815-1.815L10.815 9Z"></path></svg>
  </button>
  <p>Hello there</p>
</dialog>

<script>
  const openButtons = document.querySelectorAll("[data-dialogOpen]");
  
  openButtons.forEach((openButton) => {
    const dialog = openButton.nextElementSibling;
  
    if (!dialog || !dialog.matches("[data-dialogElement]")) return;
  
    const closeButton = dialog.querySelector("[data-dialogClose]");
  
    openButton.addEventListener("click", () => {
      dialog.showModal();
    });
  
    if (closeButton) {
      closeButton.addEventListener("click", () => {
        dialog.close();
      });
    }
  
    // Close when clicking outside dialog content
    dialog.addEventListener("click", (event) => {
      const rect = dialog.getBoundingClientRect();
      if (
        event.clientX < rect.left ||
        event.clientX > rect.right ||
        event.clientY < rect.top ||
        event.clientY > rect.bottom
      ) {
        dialog.close();
      }
    });
  });
</script>